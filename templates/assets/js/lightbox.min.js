!function(){"use strict";function e(){r.classList.toggle("remove-scroll")}function t(e){var t,i,l=e.getAttribute("href");return l.match(/\.(jpeg|jpg|gif|png)/)?(t=document.createElement("img"),t.className="lightbox-image",t.src=l,t.alt=e.getAttribute("data-image-alt"),t):l.match(/(youtube|vimeo)/)?(i=[],l.match("youtube")&&(i.id=l.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0],i.url="www.youtube.com/embed/",i.options="?autoplay=1&rel=0"),l.match("vimeo")&&(i.id=l.split(/video\/|https:\/\/vimeo\.com\//)[1].split(/[?&]/)[0],i.url="player.vimeo.com/video/",i.options="?autoplay=1title=0&byline=0&portrait=0"),i.player=document.createElement("iframe"),i.player.setAttribute("allowfullscreen",""),i.player.className="lightbox-video-player",i.player.src="https://"+i.url+i.id+i.options,i.wrapper=document.createElement("div"),i.wrapper.className="lightbox-video-wrapper",i.wrapper.appendChild(i.player),i.wrapper):r.querySelector(l).children[0].cloneNode(!0)}function i(e){var t,i={next:e.parentElement.nextElementSibling,previous:e.parentElement.previousElementSibling};for(t in i)null!==i[t]&&(i[t]=i[t].querySelector("[data-lightbox]"));return i}function l(l){if(l.blur(),u=l,l.classList.add("current-lightbox-item"),c=document.createElement("button"),c.className="lightbox-btn lightbox-btn-close",p=document.createElement("div"),p.className="lightbox-content",p.appendChild(t(l)),m=p.cloneNode(!1),m.className="lightbox-wrapper",m.style.animation=[o.scaleIn,o.fadeIn],m.appendChild(p),m.appendChild(c),d=p.cloneNode(!1),d.className="lightbox-container",d.style.animation=o.fadeIn,d.onclick=function(){},d.appendChild(m),"gallery"===l.getAttribute("data-lightbox")){d.classList.add("lightbox-gallery");var a;s={next:"",previous:""};for(a in s)s.hasOwnProperty(a)&&(s[a]=c.cloneNode(!1),s[a].className="lightbox-btn lightbox-btn-"+a,s[a].disabled=null===i(l)[a],m.appendChild(s[a]))}r.appendChild(d),e()}function a(e){m.removeAttribute("style");var l,a=i(u)[e];if(null!==a){p.style.animation=o.fadeOut,setTimeout(function(){p.replaceChild(t(a),p.children[0]),p.style.animation=o.fadeIn},200),u.classList.remove("current-lightbox-item"),a.classList.add("current-lightbox-item"),u=a;for(l in s)s.hasOwnProperty(l)&&(s[l].disabled=null===i(a)[l])}}function n(){d.style.animation=o.fadeOut,m.style.animation=[o.scaleOut,o.fadeOut],setTimeout(function(){r.contains(d)&&(r.removeChild(d),h.focus(),u.classList.remove("current-lightbox-item"),e())},200)}var o,r,c,s,u,d,p,m,b,h;b=(r=document.body).querySelectorAll("[data-lightbox]"),o={fadeIn:"fadeIn .3s",fadeOut:"fadeOut .3s",scaleIn:"createBox .3s",scaleOut:"deleteBox .3s"},Array.prototype.forEach.call(b,function(e){e.addEventListener("click",function(t){t.preventDefault(),l(e),h=e})}),["click","keyup"].forEach(function(e){r.addEventListener(e,function(e){if(r.contains(d)){var t=e.target,i=e.keyCode,l=e.type;-1===[d,c].indexOf(t)&&27!==i||n(),d.classList.contains("lightbox-gallery")&&((t===s.next&&"click"===l||39===i)&&a("next"),(t===s.previous&&"click"===l||37===i)&&a("previous"))}})})}();